<div class="container">
    <div class="py-1">
        <form [formGroup]="formAdd">
            <div class="card card-signin">
                <div class="card-body">
                    <h5 class="card-title text-center">Cadastro de Contas a pagar</h5>

                    <div class="row">
                        <div class="col">
                          <label>Fornecedor:</label>
                          <select class="form-control" formControlName="fornecedor">
                            <option [ngValue]="fornecedor" *ngFor="let fornecedor of lstFornecedor">
                              {{fornecedor.nome}}</option>
                          </select>
                          <div *ngIf="submitted && f.fornecedor.errors">
                            <p *ngIf="f.fornecedor.errors.required" class="text-danger small">* Seleção de Fornecedor é
                              obrigatória</p>
                          </div>
                        </div>
              
                        <div class="col">
                          <label>Conta Corrente:</label>
                          <select class="form-control" formControlName="contaCorrente">
                            <option [ngValue]="contacorrente" *ngFor="let contacorrente of lstContaCorrente">
                              {{contacorrente.banco}} {{contacorrente.bancoNumero}} {{contacorrente.agencia}} {{contacorrente.conta}}
                            </option>
                          </select>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col">
                          <label>Categoria:</label>
                          <select class="form-control" formControlName="categoriaContasAPagar" (change)="onSelectCategoria()">
                            <option [ngValue]="categoriaContasAPagar" *ngFor="let categoriaContasAPagar of lstCategorias">
                              {{categoriaContasAPagar.nome}}</option>
                          </select>
                        </div>
                        <div class="col">
                          <label>Conta contábil:</label>
                          <select class="form-control" formControlName="planoContas">
                            <option [ngValue]="planoContas" *ngFor="let planoContas of lstPlanoContas">
                              {{planoContas.descricao}}</option>
                          </select>
                        </div>
              
                      </div>
                      <div class="row">
                        <div class="col">
                          <label>Valor:</label>
                          <input currencyMask max="999999999999999999"
                            [options]="{ prefix: '', thousands: '.', decimal: ',', precision: 2, allowNegative: false }"
                            maxlength="18" type="text" formControlName="valorOriginal" placeholder="Informe o valor..."
                            class="form-control">
                          <div *ngIf="submitted && f.valorOriginal.errors">
                            <p *ngIf="f.valorOriginal.errors.required" class="text-danger small">* Informe o valor da conta a pagar
                            </p>
                          </div>
                        </div>
                        <div class="col">
                          <label>Data de Vencimento:</label>
                          <div class="input-group">
                            <input class="form-control" placeholder="dd/mm/yyyy" name="dp" formControlName="dataVencimento"
                              ngbDatepicker #d="ngbDatepicker">
                            <div class="input-group-append">
                              <button class="btn btn-primary" (click)="d.toggle()" type="button">
                                <i class="fa fa-calendar-alt"></i>
                              </button>
                            </div>
                          </div>
                          <div *ngIf="submitted && f.dataVencimento.errors">
                            <p *ngIf="f.dataVencimento.errors.required" class="text-danger small">* Selecione a data de vencimento
                            </p>
                          </div>
                        </div>
                      </div>
                      <div class="row">
                        <div class="col">
                          <label>Referente a:</label>
                          <input type="text" formControlName="referente" placeholder="Informe a referência das contas..."
                            class="form-control">
                          <div *ngIf="submitted && f.referente.errors">
                            <p *ngIf="f.referente.errors.required" class="text-danger small">* Informe a referência da conta a pagar
                            </p>
                          </div>
                        </div>
                        <div class="col">
                          <label>Centro de custo:</label>
                          <select class="form-control" formControlName="centroCusto">
                            <option [ngValue]="centroCusto" *ngFor="let centroCusto of lstCentroCusto">
                              {{centroCusto.descricao}}</option>
                          </select>
                        </div>
              
                      </div>


                    <div *ngIf="contasAPagar.id > 0">
                        <div class="form-group col-md-6">
                            <label>Criado por: {{ contasAPagar.criadoPor }}</label>
                        </div>
                        <div class="form-group col-md-6">
                            <label>Em: {{ getDataCriacao() | date }}</label>
                        </div>
                    </div>
                    <div *ngIf="contasAPagar.alteradoPor">
                        <div class="form-group col-md-6">
                            <label>Última alteração por: {{ contasAPagar.alteradoPor }}</label>
                        </div>
                        <div class="form-group col-md-6">
                            <label>Em: {{ getDataAlteracao() | date }}</label>
                        </div>
                    </div>


                    <div class="form-group col-md-6">
                        <button type="button" class="btn btn-rounded btn-primary text-uppercase" (click)="onSave()">
                            <i class="fa fa-save"></i> Salvar
                        </button>
                        <button type="button" class="btn btn-rounded btn-danger text-uppercase ml-2" (click)="onCancel()">
                            <i class="fa fa-times"></i> Cancelar
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>